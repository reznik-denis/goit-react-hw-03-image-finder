{"version":3,"sources":["Components/ImageGallery/ImageGallery.module.css","Components/Modal/Modal.module.css","Components/DefaultNotifeImages/DefaultNotifeImages.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/LoadMore/LoadMore.module.css","Components/Loader/Loader.module.css","Components/Searchbar/Searchbar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Modal/Modal.jsx","Components/LoadMore/LoadMore.jsx","services/FetchImages.js","Components/Loader/Loader.jsx","Components/DefaultNotifeImages/upps.jpg","Components/DefaultNotifeImages/DefaultNotifeImages.jsx","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","search","handleChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","reset","toast","error","className","s","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","userImageURL","altImage","src","alt","ImageGalleryItemImage","ImageGallery","pictures","onClick","map","index","webformatURL","largeImageURL","tags","modalRoot","document","querySelector","Modal","handleKeydown","e","code","onClose","handleOverleyClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","children","LoadMore","Button","api","fetchImages","pageFetch","fetch","then","res","ok","json","Promise","reject","Error","LoaderSpinner","loaderSpinner","color","height","width","DefaultNotifeImages","imageURL","upps","imageClass","defaultNotifeImages","App","picture","showModal","loading","largeImage","toggleModal","formSubmitHendler","fetshSearch","Api","prevState","hits","catch","finally","onLoadMoreSkroll","options","top","behavior","pageYOffset","documentElement","clientHeight","setTimeout","scrollTo","prevProps","massage","length","position","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.0432eb35.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__h2w2e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__103qd\",\"Modal\":\"Modal_Modal__2eLXo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"defaultNotifeImages\":\"DefaultNotifeImages_defaultNotifeImages__vlriF\",\"imageClass\":\"DefaultNotifeImages_imageClass__3yzBk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3EuHn\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__rF-uv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"LoadMore_Button__1hy5Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderSpinner\":\"Loader_loaderSpinner__1uVuU\"};","import React, {Component} from 'react';\r\nimport s from './Searchbar.module.css';\r\n\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default class Searchbar extends Component {\r\n    state = {\r\n        search: '',\r\n    }\r\n\r\n    handleChange = event => {\r\n        this.setState({ search: event.currentTarget.value.toLowerCase() });\r\n    };\r\n\r\n    handleSubmit = event => {\r\n        \r\n        event.preventDefault();\r\n        if (this.state.search.trim() === '') {\r\n            toast.error(\"Введите имя картинки!\");\r\n            return\r\n        }\r\n        this.props.onSubmit(this.state);\r\n        this.reset();\r\n    };\r\n\r\n    reset = () => {\r\n        this.setState({ search: '' })\r\n    };\r\n\r\n    render() {\r\n        return (<header className={s.Searchbar}>\r\n                <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n                    <button type=\"submit\" className={s.SearchFormButton}>\r\n                        <span className={s.SearchFormButtonLabel}>Search</span>\r\n                    </button>\r\n\r\n                    <input\r\n                        className={s.SearchFormInput}\r\n                        type=\"text\"\r\n                        value={this.state.search}\r\n                        onChange={this.handleChange}\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>\r\n            );\r\n    };\r\n}","import s from './ImageGalleryItem.module.css';\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nexport default function ImageGalleryItem({userImageURL, altImage}) {\r\n    return <img src={userImageURL} alt={altImage} className={s.ImageGalleryItemImage} />\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n        userImageURL: PropTypes.string.isRequired,\r\n        altImage: PropTypes.string.isRequired\r\n};","import React from 'react';\r\nimport s from './ImageGallery.module.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function ImageGallery({ pictures, onClick }) {\r\n    return (<ul className={s.ImageGallery}>\r\n        {pictures && pictures.map(({ webformatURL, largeImageURL, tags }, index) => (<li key={index} className={s.ImageGalleryItem} onClick={() => onClick(largeImageURL, tags)}>\r\n            <ImageGalleryItem userImageURL={webformatURL} altImage={tags}/>\r\n            </li>\r\n            )) \r\n        }\r\n        </ul>);    \r\n};\r\n\r\nImageGallery.propTypes = {\r\n    pictures: PropTypes.arrayOf(PropTypes.shape({\r\n        webformatURL: PropTypes.string.isRequired,\r\n        largeImageURL: PropTypes.string.isRequired,\r\n        tags: PropTypes.string.isRequired,\r\n    }))\r\n};\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\nexport default class Modal extends Component {\r\n    componentDidMount() {\r\n        window.addEventListener('keydown', this.handleKeydown)\r\n    };\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('keydown', this.handleKeydown)\r\n    };\r\n\r\n    handleKeydown = e => {\r\n        if (e.code === 'Escape') {\r\n            this.props.onClose()\r\n        }\r\n    };\r\n    \r\n    handleOverleyClick = e => {\r\n        if (e.currentTarget === e.target) {\r\n            this.props.onClose();\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return createPortal(\r\n        <div className={s.Overlay} onClick={this.handleOverleyClick}>\r\n            <div className={s.Modal}>\r\n                {this.props.children}\r\n            </div>\r\n        </div>, modalRoot,);\r\n    }\r\n}\r\n","import React from 'react';\r\nimport s from './LoadMore.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function LoadMore({onClick}) {\r\n    return (\r\n        <button type='button' className={s.Button} onClick={() => onClick()}>Load more</button>\r\n    )\r\n}\r\n\r\nLoadMore.propTypes = {\r\n    onClick: PropTypes.func.isRequired,\r\n};","function fetchImages(search, pageFetch) {\r\n    const KEY = '19046001-7d44b7f00f708df4674bb235b';\r\n    const URL = 'https://pixabay.com/api/';\r\n    return fetch(`${URL}?q=${search}&page=${pageFetch}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`)\r\n        .then(res => {\r\n            if (res.ok) {\r\n                return res.json();\r\n            }\r\n            return Promise.reject(new Error('Картинки с таким именем отсутсвуют'))\r\n        });\r\n}\r\n\r\nconst api = {\r\n    fetchImages\r\n};\r\n\r\nexport default api;\r\n    ","import React from 'react';\r\nimport Loader from \"react-loader-spinner\";\r\nimport s from './Loader.module.css';\r\n\r\nexport default function LoaderSpinner (props) {\r\n    return (<Loader\r\n        className={s.loaderSpinner}\r\n        type=\"Puff\"\r\n        color=\"#00BFFF\"\r\n        height={100}\r\n        width={100}\r\n    />);\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/upps.1afb9e96.jpg\";","import React from 'react';\r\nimport s from './DefaultNotifeImages.module.css';\r\nimport upps from './upps.jpg';\r\n\r\nexport default function DefaultNotifeImages({imageURL = upps}) {\r\n    return <div><img className={s.imageClass} src={imageURL} alt=\"upps\" width=\"400\"/>  \r\n        <div className={s.defaultNotifeImages}>Картинки с таким именем отсутствуют</div>\r\n    </div>\r\n}","import React, { Component } from 'react';\nimport './App.css';\nimport Searchbar from './Components/Searchbar/Searchbar';\nimport ImageGallery from './Components/ImageGallery/ImageGallery';\nimport Modal from './Components/Modal/Modal';\nimport LoadMore from './Components/LoadMore/LoadMore';\nimport Api from './services/FetchImages';\nimport LoaderSpinner from './Components/Loader/Loader';\nimport DefaultNotifeImages from './Components/DefaultNotifeImages/DefaultNotifeImages';\nimport { ToastContainer } from 'react-toastify';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n\nclass App extends Component {\n  state = {\n    picture: [],\n    search: null,\n    showModal: false,\n    loading: false,\n    error: null,\n    largeImage: '',\n    altImage: '',\n    pageFetch: 1\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.search !== this.state.search) {\n      this.fetshSearch();\n    }\n  }\n\n  toggleModal = (largeImageURL, tags) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      largeImage: largeImageURL,\n      altImage: tags\n    }));\n  };\n\n  formSubmitHendler = ({ search }) => {\n    if (search !== this.state.search) {\n      this.setState({ picture: [], search, pageFetch: 1 });\n    } else { toast.error(\"Вы уже ввели это имя!\"); };\n    \n  };\n\n  fetshSearch = () => {\n    this.setState({ loading: true });\n    const { search, pageFetch } = this.state;\n    Api.fetchImages(search, pageFetch).then(pictures => this.setState(prevState => (\n        { picture: ((this.state.picture === []) ? pictures.hits : ([...prevState.picture, ...pictures.hits])) }\n      )))\n      .catch(error => (this.setState({error})))\n      .finally(() => {\n        this.onLoadMoreSkroll();\n        this.setState(prevState => ({\n          loading: false,\n          pageFetch: prevState.pageFetch + 1\n        }))\n      }); \n  }\n\n  onLoadMoreSkroll = () => {\n    if (this.state.pageFetch >= 2) {\n      const options = {\n        top: null,\n        behavior: 'smooth',\n      };\n\n      options.top = window.pageYOffset + document.documentElement.clientHeight;\n      setTimeout(() => {\n        window.scrollTo(options);\n      }, 1000);\n    }\n  };\n\n  render() {\n    const {picture, showModal, error, largeImage, pageFetch, search, altImage, loading} = this.state;\n    return (\n      <div className=\"App\">\n        {error && <h1>{error.massage}</h1>}\n\n        <Searchbar onSubmit={this.formSubmitHendler} />\n\n        <ImageGallery\n          pictures={picture}\n          onClick={this.toggleModal} />\n        \n        {this.state.loading && <LoaderSpinner />}\n        \n        {(picture.length !== 0) && (pageFetch >= 2) && <LoadMore onClick={this.fetshSearch} />}\n\n        {search && picture.length === 0 && loading === false && <DefaultNotifeImages />}\n        \n        {showModal && <Modal onClose={ this.toggleModal }>\n          <img src={largeImage} alt={altImage}/>\n        </Modal>}\n        \n        <ToastContainer\n          position=\"bottom-right\"\n          autoClose={3000}\n        />\n    </div>\n  );\n  }\n  \n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1IkM4\",\"SearchForm\":\"Searchbar_SearchForm__FrHK4\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3M2Nz\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__gpgM_\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2vvFA\"};"],"sourceRoot":""}